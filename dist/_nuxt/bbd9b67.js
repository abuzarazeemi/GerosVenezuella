(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{559:function(e,t,r){var content=r(574);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("48def330",content,!0,{sourceMap:!1})},573:function(e,t,r){"use strict";r(559)},574:function(e,t,r){var n=r(19)(!1);n.push([e.i,"._section[data-v-19dbb175]{position:relative;max-width:600px;margin:0 auto;border-radius:12px 12px 0 0;padding:10px 25px 40px}._top[data-v-19dbb175]{margin-top:-25px}.c-vertical[data-v-19dbb175]{top:50%;transform:translateY(-50%)}.border-r[data-v-19dbb175]{border-radius:12px!important;padding-bottom:20px}",""]),e.exports=n},581:function(e,t,r){"use strict";var n=r(166),o=r(253),c=r(251),l=r(545),d=r(539),m=r(626),v=r(250),_=r(552),f=r(538),h=r(585),O=r(97),x=r(551),y=(r(24),r(29),r(34),r(12),r(13),r(14),r(8),r(15),r(17)),w=r(2),C=(r(41),r(11),r(6),r(563)),$=r.n(C),j=r(35);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var N={data:function(){return{dialog:!1,resume:null,order:null,control:{img:!1,cancel:!1},capture:[],cancelMessage:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(w.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(j.c)("adminUsers",["showUsers"])),mounted:function(){var e=this;this.$nuxt.$on("ADMIN_ORDER_OPEN",(function(t,r){e.resume=r,e.order=t,e.dialog=!0,e.control.img=!1,e.control.cancel=!1,e.capture=[],e.cancelMessage=""}))},methods:{orderAddNew:function(){var e=this;this.$nuxt.$emit("LOADING_OPEN");var t=this.$fireStorage.ref("payments").child("".concat(+new Date)).put(this.capture[0]);t.on("state_changed",(function(e){}),(function(t){e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al cargar la imagen",color:"pink"}),e.$nuxt.$emit("LOADING_CLOSE")}),Object(y.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.snapshot.ref.getDownloadURL();case 2:return n=r.sent,o=e.findUserPoint(e.order.uid).email,r.prev=4,r.next=7,e.$fireStore.collection("orders").where("uid","==",e.order.uid).where("id","==",e.order.id).get();case 7:return c=r.sent,e.$fireStore.collection("orders").doc(c.docs[0].id).update({status:"completada","payout.payout":!0,"payout.img":n,"payout.timestamp":Number(new Date)}),r.next=11,e.setNotification(!0);case 11:return r.next=13,e.sendEmail(o,n);case 13:e.dialog=!1,e.$nuxt.$emit("LOADING_CLOSE"),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"La orden se marco pagada correctamente",color:"success"}),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(4),e.$nuxt.$emit("LOADING_CLOSE"),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al marcar la orden como pagada",color:"success"});case 22:case"end":return r.stop()}}),r,null,[[4,18]])}))))},orderCancel:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nuxt.$emit("LOADING_OPEN"),t.prev=1,t.next=4,e.$fireStore.collection("orders").where("uid","==",e.order.uid).where("id","==",e.order.id).get();case 4:return r=t.sent,e.$fireStore.collection("orders").doc(r.docs[0].id).update({status:"cancelada","payout.timestamp":Number(new Date),"payout.message":e.cancelMessage}),t.next=8,e.setNotification();case 8:e.dialog=!1,e.$nuxt.$emit("LOADING_CLOSE"),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Orden cancelada correctamente",color:"success"}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al intentar cancelar la orden",color:"pink"}),e.$nuxt.$emit("LOADING_CLOSE");case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()},setNotification:function(e){var t=this;return Object(y.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$fireStore.collection("notifications").add({uid:t.order.uid,show:!1,timestamp:Number(new Date),type:e?"completada":"cancelada",idOrder:t.order.id});case 3:r.next=13;break;case 5:if(r.prev=5,r.t0=r.catch(0),!e){r.next=11;break}return t.$nuxt.$emit("SNACKBAR_OPEN",{text:"Se pago la orden, pero hubo un error al intentar enviar la notificacion",color:"pink"}),t.$nuxt.$emit("LOADING_CLOSE"),r.abrupt("return");case 11:t.$nuxt.$emit("SNACKBAR_OPEN",{text:"Se cancelo la orden, pero hubo un error al intentar enviar la notificacion",color:"pink"}),t.$nuxt.$emit("LOADING_CLOSE");case 13:case"end":return r.stop()}}),r,null,[[0,5]])})))()},sendEmail:function(e,t){var r=this;return Object(y.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,$.a.post("https://us-central1-giros-venezuela-9d086.cloudfunctions.net/sendemail",{to:e,subject:"ðŸ¥³ Pagamos una de tus ordenes",html:"\n                  <h1>Acabamos e pagar una de tus ordenes</h1>\n                  <p>Tu orden con el ID ".concat(r.order.id.toLocaleUpperCase(),'</p>\n\n                  <a href="').concat(t,'">Ver capture el pago! ðŸ“·</a>\n                  ')});case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),r.$nuxt.$emit("SNACKBAR_OPEN",{text:"Se pago la orden, pero no se envio el email de notificacion",color:"pink"}),r.$nuxt.$emit("LOADING_CLOSE");case 9:case"end":return n.stop()}}),n,null,[[0,5]])})))()},findUserPoint:function(e){return this.showUsers?this.showUsers.filter((function(t){return t.uid===e}))[0]:""},calcPercentage:function(e){var a=(e.amount.pesos*this.findUserPoint(e.uid).percentage/100).format(0,3,".");return"".concat(a,"$ (").concat(this.findUserPoint(e.uid).percentage,"%)")},controlImg:function(){if(!this.control.img)return this.control.img=!0,void(this.control.cancel=!1);this.control.img=!1,this.control.cancel=!1},controlCancel:function(){if(!this.control.cancel)return this.control.cancel=!0,void(this.control.img=!1);this.control.cancel=!1,this.control.img=!1}}},P=N,D=(r(573),r(44)),component=Object(D.a)(P,(function(){var e=this,t=e._self._c;return t(_.a,{attrs:{justify:"center"}},[t(d.a,{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.order?t(o.a,[t(O.a,{attrs:{dark:"",color:"purple"}},[t(x.b,[e._v("\n          "+e._s(e.resume?"Administrar la":"Detalles de la")+" orden\n          "),t("span",{staticClass:"text-uppercase"},[e._v(" "+e._s(e.order.id)+" ")])]),e._v(" "),t(f.a),e._v(" "),t(x.a,[t(n.a,{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[t(v.a,[e._v("mdi-close")])],1)],1)],1),e._v(" "),t(l.a,{staticClass:"mt-7"},[t("div",{staticClass:"d-flex flex-column align-center justify-center"},[t("span",{staticClass:"grey--text mb-2"},[e._v("Montos de la Orden")]),e._v(" "),t("h1",{staticClass:"h6"},[e._v("\n            "+e._s(e.$currencyFormat(e.$unFormat("".concat(e.order.amount.pesos))/e.order.amount.tasa))+" Bs\n          ")]),e._v(" "),t("p",[t("span",{staticClass:"primary--text"},[e._v(e._s(Number(e.$unFormat("".concat(e.order.amount.pesos))).format(0,3,"."))+" $")]),e._v(" "),t("span",{staticClass:"font-weight-medium mx-2"},[e._v("|")]),e._v(" "),t("span",{staticClass:"font-weight-medium green--text"},[e._v(e._s(e.order.amount.tasa))])])]),e._v(" "),t("div",{staticClass:"_section mt-5 b-shadow purple white--text"},[t("div",{staticClass:"overline"},[e._v("Punto de Venta")]),e._v(" "),t("div",{staticClass:"d-flex flex-column mt-3 text-capitalize"},[t("span",[e._v("\n              "+e._s(e.findUserPoint(e.order.uid).company)+"\n            ")]),e._v(" "),t("p",[t("span",[e._v(e._s(e.findUserPoint(e.order.uid).address))])])])]),e._v(" "),t("div",{staticClass:"_section _top b-shadow primary white--text"},[t("div",{staticClass:"overline"},[e._v("Remitente")]),e._v(" "),t("div",{staticClass:"d-flex flex-column mt-3 text-capitalize"},[t("span",[e._v("\n              "+e._s("".concat(e.order.remitente.name," ").concat(e.order.remitente.nameSecond?e.order.remitente.nameSecond:""," ").concat(e.order.remitente.surname," ").concat(e.order.remitente.surnameSecond?e.order.remitente.surnameSecond:""))+"\n            ")]),e._v(" "),t("p",[t("span",[e._v(e._s("".concat(e.$getId(e.order.remitente.tid)).concat(e.order.remitente.id)))]),e._v(" "),t("span",{staticClass:"mx-2"},[e._v("|")]),e._v(" "),t("span",[e._v(e._s(e.order.remitente.phone))])])])]),e._v(" "),t("div",{staticClass:"_section _top b-shadow blue white--text"},[t("div",{staticClass:"overline"},[e._v("destinatario")]),e._v(" "),t("div",{staticClass:"d-flex flex-column mt-3 text-capitalize"},[t("span",[e._v("\n              "+e._s(e.order.destinatario.name)+"\n            ")]),e._v(" "),t("p",[t("span",[e._v(e._s("".concat(e.$getId(e.order.destinatario.tid)).concat(e.order.destinatario.id)))]),e._v(" "),t("span",{staticClass:"mx-2"},[e._v("|")]),e._v(" "),t("span",[e._v(e._s(e.order.destinatario.bank))])]),e._v(" "),t("p",[t("span",[e._v(" "+e._s(e.order.destinatario.account)+" ")])])])]),e._v(" "),t("div",{staticClass:"_section _top b-shadow yellow black--text"},[t("div",{staticClass:"overline"},[e._v("metodo de pago")]),e._v(" "),t("div",{staticClass:"d-flex flex-column mt-3 text-capitalize"},[e.order.payment_method&&e.order.payment_method.type?t("span",[e._v("\n              "+e._s(e.order.payment_method.type)+"\n            ")]):e._e(),e._v(" "),e.order.payment_method&&e.order.payment_method.text?t("span",[e._v("\n              "+e._s(e.order.payment_method.text)+"\n            ")]):e._e()])]),e._v(" "),t("div",{staticClass:"_section border-r _top white b-shadow black--text"},[t("div",{staticClass:"overline"},[e._v("\n            "+e._s(e.resume?"acciones":"detalles")+"\n          ")]),e._v(" "),e.resume?t("div",[t("div",{staticClass:"d-flex flex-column flex-lg-row justify-lg-space-between mt-5 text-capitalize"},[t(n.a,{staticClass:"white--text",attrs:{depressed:"",color:"pink"},on:{click:e.controlCancel}},[e._v("\n                cancelar orden\n              ")]),e._v(" "),t(n.a,{staticClass:"mt-3 mt-lg-0 white--text",attrs:{disabled:e.control.img,depressed:"",color:"green"},on:{click:e.controlImg}},[e._v("\n                subir imagen de pago\n              ")]),e._v(" "),t(n.a,{staticClass:"mt-3 mt-lg-0 white--text",attrs:{disabled:0===e.capture.length,depressed:"",color:"green"},on:{click:e.orderAddNew}},[e._v("\n                pagar orden\n              ")])],1),e._v(" "),t("div",{staticClass:"mt-5"},[e.control.img?t("div",[t(m.a,{ref:"capture",attrs:{accept:"image/*",color:"primary",counter:"",label:"Capture de pago",multiple:"",placeholder:"Seleccione la imagen","prepend-icon":"mdi-paperclip",outlined:"",dense:"","show-size":1e3},scopedSlots:e._u([{key:"selection",fn:function(r){var n=r.index,text=r.text;return[n<2?t(c.a,{attrs:{color:"primary",dark:"",label:"",small:""}},[e._v("\n                      "+e._s(text)+"\n                    ")]):2===n?t("span",{staticClass:"overline grey--text text--darken-3 mx-2"},[e._v("\n                      +"+e._s(e.files.length-2)+" File(s)\n                    ")]):e._e()]}}],null,!1,1499417495),model:{value:e.capture,callback:function(t){e.capture=t},expression:"capture"}})],1):e._e(),e._v(" "),e.control.cancel?t("div",[t(h.a,{ref:"capture",attrs:{outlined:"",color:"pink",name:"input-7-4",label:"Motivo",placeholder:"Escriba todos los motivos posibles por lo que cancela la orden"},model:{value:e.cancelMessage,callback:function(t){e.cancelMessage=t},expression:"cancelMessage"}}),e._v(" "),t(n.a,{staticClass:"white--text",attrs:{disabled:e.cancelMessage.length<5,color:"pink",block:""},on:{click:e.orderCancel}},[e._v("\n                  si, cancelar orden\n                ")])],1):e._e()])]):t("div",[t("div",{staticClass:"d-flex flex-column mt-3"},[t("span",[t("strong",{staticClass:"mr-1"},[e._v("Fecha: ")]),e._v("\n                "+e._s(e.$moment(e.order.timestamp).format("DD-MM-YYYY hh:mm a"))+"\n              ")]),e._v(" "),t("span",[t("strong",{staticClass:"mr-1"},[e._v("Estado: ")]),e._v(" "),t("span",{staticClass:"text-capitalize"},[e._v(e._s(e.order.status))])]),e._v(" "),"cancelada"!==e.order.status?t("span",[t("strong",{staticClass:"mr-1"},[e._v("Porcentaje: ")]),e._v("\n                "+e._s("".concat(e.calcPercentage(e.order)))+"\n              ")]):e._e(),e._v(" "),"pendiente"!==e.order.status?t("p",[t("strong",{staticClass:"pr-1"},[e._v("DefiniciÃ³n de la orden: ")]),e._v(" "),t("span",{staticClass:"text-capitalize"},[e._v("\n                  "+e._s(e.$moment(e.order.payout.timestamp).format("DD-MM-YYYY hh:mm a"))+"\n                ")])]):e._e(),e._v(" "),"cancelada"===e.order.status?t("span",[t("strong",{staticClass:"mr-1"},[e._v("Motivo cancelacion: ")]),e._v("\n                "+e._s(e.order.payout.message)+"\n              ")]):e._e(),e._v(" "),"completada"===e.order.status?t(n.a,{staticClass:"mt-5",attrs:{href:e.order.payout.img,target:"_blank",color:"#00E676",dark:"",depressed:""}},[e._v("\n                ver capture del pago\n              ")]):e._e()],1)])])])],1):e._e()],1)],1)}),[],!1,null,"19dbb175",null);t.a=component.exports},586:function(e,t,r){var content=r(625);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("779e8d70",content,!0,{sourceMap:!1})},596:function(e,t,r){var content=r(650);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("7de59e40",content,!0,{sourceMap:!1})},624:function(e,t,r){"use strict";r(586)},625:function(e,t,r){var n=r(19)(!1);n.push([e.i,".c-vertical[data-v-b8926b5c]{top:50%;transform:translateY(-50%)}",""]),e.exports=n},649:function(e,t,r){"use strict";r(596)},650:function(e,t,r){var n=r(19)(!1);n.push([e.i,".e-panel[data-v-0411e668]{border-bottom:1px solid rgba(0,0,0,.1)}._resumen[data-v-0411e668]{width:100%}._resumen .col[data-v-0411e668]{padding:4px 5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.c-chip[data-v-0411e668]{border-radius:7px;padding:0 14px;color:#fff;font-size:9px}",""]),e.exports=n},769:function(e,t,r){"use strict";r.r(t);var n=r(620),o=r(166),c=r(253),l=r(106),d=r(542),m=r(539),v=r(552),_=r(538),f=r(585),h=(r(12),r(13),r(11),r(6),r(14),r(8),r(15),r(17)),O=r(2),x=(r(41),r(52),r(24),r(35)),y=r(250),w=r(569);function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(O.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j={computed:$($($({},Object(x.c)("adminOrders",["showOrders"])),Object(x.c)("adminTasas",["showTasas"])),{},{ordersDay:function(){if(this.showOrders){var e=Number(this.$moment.tz("America/Bogota").startOf("day").utc()._d),t=Number(this.$moment.tz("America/Bogota").endOf("day").utc()._d);return this.showOrders.filter((function(r){return r.timestamp>=e&&r.timestamp<=t&&"cancelado"!==r.status})).length}return"-"},ordersPending:function(){return this.showOrders?this.showOrders.filter((function(e){return"pendiente"===e.status})).length:"-"},ordersBsPay:function(){return this.showOrders?this.showOrders.filter((function(e){return"pendiente"===e.status})).reduce((function(e,t){return e+t.amount.pesos/t.amount.tasa}),0):"-"},currentTasa:function(){return this.showTasas?this.showTasas[0].tasas:"-"},getPendingOrders:function(){return this.$store.getters["adminOrders/getPendingOrders"]},getDayOrders:function(){return this.$store.getters["adminOrders/getDayOrders"]},getBolivarsPayable:function(){return this.$store.getters["adminOrders/getBolivarsPayable"]}})},k=(r(624),r(44)),N=Object(k.a)(j,(function(){var e=this,t=e._self._c;return t(v.a,[t(d.a,{attrs:{cols:"12",lg:"3"}},[t(c.a,{staticClass:"pa-6 b-shadow"},[t("p",{staticClass:"overline"},[e._v("ordenes del dia")]),e._v(" "),t(o.a,{staticClass:"c-vertical",attrs:{color:"indigo",dark:"",small:"",absolute:"",bottom:"",right:"",fab:""}},[t(y.a,{attrs:{small:""}},[e._v(" mdi-account-multiple-check-outline ")])],1),e._v(" "),t("p",{staticClass:"mt-2 font-weight-medium"},[e._v("\n        "+e._s(e.getDayOrders.length)+"\n      ")])],1)],1),e._v(" "),t(d.a,{attrs:{cols:"12",lg:"3"}},[t(c.a,{staticClass:"pa-6 b-shadow"},[t("p",{staticClass:"overline"},[e._v("ordenes pendientes")]),e._v(" "),t(o.a,{staticClass:"c-vertical",attrs:{color:"pink",dark:"",small:"",absolute:"",bottom:"",right:"",fab:""}},[t(y.a,{attrs:{small:""}},[e._v(" mdi-order-bool-ascending-variant ")])],1),e._v(" "),t("p",{staticClass:"mt-2 font-weight-medium"},[e._v("\n        "+e._s(e.getPendingOrders.length)+"\n      ")])],1)],1),e._v(" "),t(d.a,{attrs:{cols:"12",lg:"3"}},[t(c.a,{staticClass:"pa-6 b-shadow"},[t("p",{staticClass:"overline"},[e._v("Bolivares por pagar")]),e._v(" "),t(o.a,{staticClass:"c-vertical",attrs:{color:"lime",dark:"",small:"",absolute:"",bottom:"",right:"",fab:""}},[t(y.a,{attrs:{small:""}},[e._v(" mdi-cash-plus ")])],1),e._v(" "),t("p",{staticClass:"mt-2 font-weight-medium"},[e._v("\n        "+e._s(e.$currencyFormat(e.getBolivarsPayable))+" Bs\n      ")])],1)],1),e._v(" "),t(d.a,{attrs:{cols:"12",lg:"3"}},[t(c.a,{staticClass:"pa-6 b-shadow"},[t("p",{staticClass:"overline"},[e._v("tasa del dia")]),e._v(" "),t(o.a,{staticClass:"c-vertical",attrs:{color:"teal",dark:"",small:"",absolute:"",bottom:"",right:"",fab:""}},[t(y.a,{attrs:{small:""}},[e._v(" mdi-firework ")])],1),e._v(" "),t("p",{staticClass:"mt-2 font-weight-medium"},[e._v("\n        "+e._s(e.currentTasa.a)+"\n        "),t(w.a,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t(y.a,e._g(e._b({staticClass:"pl-1",attrs:{small:"",dark:"",color:"grey"}},"v-icon",o,!1),n),[e._v("\n              mdi-information\n            ")])]}}])},[e._v(" "),e.showTasas?t("div",[t("p",[e._v(e._s(e.currentTasa.a)+" -> 10.000 - 100.000")]),e._v(" "),t("p",[e._v(e._s(e.currentTasa.b)+" -> 101.000 - 150.000")]),e._v(" "),t("p",[e._v(e._s(e.currentTasa.c)+" -> 151.000 - 200.000")]),e._v(" "),t("p",[e._v(e._s(e.currentTasa.d)+" -> mas de 201.000")])]):e._e()])],1)],1)],1)],1)}),[],!1,null,"b8926b5c",null).exports,P=r(246);r(29),r(34);function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(O.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var S={components:{modalAdminOrder:r(581).a},computed:E(E(E({},Object(x.c)("adminOrders",["getPendingOrders"])),Object(x.c)("adminOrders",["showOrders"])),Object(x.c)("adminUsers",["showUsers"])),methods:{copyTextClipboard:function(e){var t=this;return Object(h.a)(regeneratorRuntime.mark((function r(){var n,o,a,p,c,l,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.$parseObject(e),p=t.$parseObject(t.findUserPointComplete(a.uid)),c=a.remitente,l=a.destinatario,d="========================\nPUNTO DE VENTA\nNombre: ".concat(p.company,"\nCiudad: ").concat(p.city,"\nDireccion: ").concat(p.address,"\n\nREMITENTE\nNombre: ").concat(c.name," ").concat(c.nameSecond?c.nameSecond:""," ").concat(c.surname," ").concat(c.surnameSecond?c.surnameSecond:"","\nDocumento: ").concat(t.$getId(c.tid)).concat(c.id,"\nTelefono: ").concat(c.phone,"\n\nDESTINATARIO\nNombre: ").concat(l.name,"\nDocumento: ").concat(t.$getId(l.tid)).concat(l.id,"\nBanco: ").concat(l.bank,"\nCuenta: ").concat(l.account,"\n\nMONTOS\nTasa aplicada: ").concat(a.amount.tasa,"\n      \nMETODO DE PAGO\n").concat(null!=a&&null!==(n=a.payment_method)&&void 0!==n&&n.type?a.payment_method.type:" ","\n").concat(null!=a&&null!==(o=a.payment_method)&&void 0!==o&&o.text?a.payment_method.text:" ","\n      \nEnvio: ").concat(Number(t.$unFormat("".concat(a.amount.pesos))).format(0,3,".")," PESOS\nRecibe: ").concat(t.$currencyFormat(t.$unFormat("".concat(a.amount.pesos))/a.amount.tasa)," BOLIVARES\nEquivalente: ").concat(a.amount.dollars?a.amount.dollars:"0"," DÃ³lar\n\nFecha creacion de la orden: ").concat(t.$moment(a.timestamp).format("DD-MM-YYYY hh:mm a"),"\n========================"),r.prev=5,r.next=8,t.$copyText(d);case 8:t.$nuxt.$emit("SNACKBAR_OPEN",{text:"Datos copiados al portapapeles",color:"success"}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(5),t.$nuxt.$emit("SNACKBAR_OPEN",{text:"No se puedieron copiar los datos",color:"pink"});case 14:case"end":return r.stop()}}),r,null,[[5,11]])})))()},findUserPointComplete:function(e){return this.showUsers?this.showUsers.filter((function(t){return t.uid===e}))[0]:""},showDetailOrder:function(e){this.$nuxt.$emit("ADMIN_ORDER_OPEN",e,!0)},findUserPoint:function(e){return this.showUsers?this.showUsers.filter((function(t){return t.uid===e}))[0].company:""}}},A=(r(649),Object(k.a)(S,(function(){var e=this,t=e._self._c;return t(c.a,{staticClass:"pa-6 b-shadow"},[t("div",{staticClass:"d-flex justify-space-between align-center mb-4"},[t("span",{staticClass:"body-1 font-weight-bold p-color",attrs:{color:"black"}},[e._v("ORDENES PENDIENTES")])]),e._v(" "),e.getPendingOrders&&0!==e.getPendingOrders.length?t("div",{staticClass:"pb-2 mt-7 h-full"},e._l(e.getPendingOrders,(function(r,i){return t("div",{key:i,staticClass:"e-panel py-3 c-hover"},[t("div",{staticClass:"body-2 px-0"},[t("div",{staticClass:"d-flex justify-space-between align-center _resumen"},[t("div",[t("div",[t("strong",{staticClass:"text-capitalize"},[e._v(e._s(e.findUserPoint(r.uid)))])]),e._v(" "),t("div",[t("span",{staticClass:"c-chip primary"},[e._v(e._s(r.destinatario.bank))]),e._v(" "),t("span",{staticClass:"c-chip purple"},[e._v("\n                "+e._s(Number(e.$unFormat("".concat(r.amount.pesos))).format(0,3,"."))+" $\n                ")])]),e._v(" "),t("div",[t("span",{staticClass:"c-chip grey"},[e._v("\n                "+e._s(r.destinatario.account)+"\n              ")])]),e._v(" "),t("div",{staticClass:"text-uppercase grey--text"},[t("span",[e._v(e._s(e.$moment(r.timestamp).format("DD.MM.YYYY hh:mm a")))]),e._v("\n              | "),t("span",[e._v("Orden ID-"+e._s(r.id))])])]),e._v(" "),t("div",[t(o.a,{attrs:{title:"copiar datos de la ordn",color:"transparent",depressed:"",dark:"",small:"",fab:""},on:{click:function(t){return e.copyTextClipboard(r)}}},[t(y.a,{attrs:{small:"",color:"primary"}},[e._v("\n                mdi-clipboard-check-multiple\n              ")])],1),e._v(" "),t(o.a,{attrs:{title:"administrar orden pendiente",color:"transparent",depressed:"",dark:"",small:"",fab:""},on:{click:function(t){return e.showDetailOrder(r)}}},[t(y.a,{attrs:{small:"",color:"primary"}},[e._v(" mdi-feature-search ")])],1)],1)])])])})),0):t("div",{staticClass:"border mt-6 h-full d-flex align-center justify-center py-10"},[e.getPendingOrders?t("span",{staticClass:"body-2 text--lighten-1 grey--text text-uppercase"},[e._v("no tienes ordenes pendientes")]):t(P.a,{staticClass:"my-2",attrs:{color:"grey",indeterminate:"",size:"34"}})],1),e._v(" "),t("modalAdminOrder")],1)}),[],!1,null,"0411e668",null).exports),M=r(102),R=r(541),L=r(245),T=r(120),I={data:function(){return{valid:!1,overlay:!0,t:{a:null,b:null,c:null,d:null},rul:{t:[function(e){return!!e||"La tasa es requerida"}]}}},methods:{setNewTasas:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=16;break}return e.$nuxt.$emit("LOADING_OPEN"),r={tasas:e.t,timestamp:Number(new Date)},t.prev=3,t.next=6,e.$fireStore.collection("tasa").add(r);case 6:e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Tasas cambiadas correctamente",color:"success"}),e.overlay=!0,e.$refs.form.reset(),e.$nuxt.$emit("LOADING_CLOSE"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al setear tasas nuevas",color:"pink"}),e.$nuxt.$emit("LOADING_CLOSE");case 16:case"end":return t.stop()}}),t,null,[[3,12]])})))()}}},B={data:function(){return{valid:!1,overlay:!0,bs:null}},methods:{setNewBolivares:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=16;break}return e.$nuxt.$emit("LOADING_OPEN"),r={bolivares:e.bs,timestamp:Number(new Date)},t.prev=3,t.next=6,e.$fireStore.collection("bolivaresPorDollar").add(r);case 6:e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Tasas cambiadas correctamente",color:"success"}),e.overlay=!0,e.$refs.form.reset(),e.$nuxt.$emit("LOADING_CLOSE"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al setear tasas nuevas",color:"pink"}),e.$nuxt.$emit("LOADING_CLOSE");case 16:case"end":return t.stop()}}),t,null,[[3,12]])})))()}}};function U(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(t){Object(O.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var G={components:{Indicadores:N,PendingOrders:A,ChangeTasas:Object(k.a)(I,(function(){var e=this,t=e._self._c;return t("div",[t(M.c,[e.overlay?t(L.a,{attrs:{absolute:"",color:"grey"}},[t(o.a,{attrs:{color:"primary"},on:{click:function(t){e.overlay=!1}}},[e._v("\n        cambiar tasas\n      ")])],1):e._e()],1),e._v(" "),e._m(0),e._v(" "),t(R.a,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(T.a,{attrs:{label:"10.000 - 100.000",type:"number",dense:"",outlined:"",rules:e.rul.t},model:{value:e.t.a,callback:function(t){e.$set(e.t,"a",t)},expression:"t.a"}}),e._v(" "),t(T.a,{attrs:{label:"101.000 - 150.000",type:"number",dense:"",outlined:"",rules:e.rul.t},model:{value:e.t.b,callback:function(t){e.$set(e.t,"b",t)},expression:"t.b"}}),e._v(" "),t(T.a,{attrs:{label:"151.000 - 200.000",type:"number",dense:"",outlined:"",rules:e.rul.t},model:{value:e.t.c,callback:function(t){e.$set(e.t,"c",t)},expression:"t.c"}}),e._v(" "),t(T.a,{attrs:{label:"mas de 201.000",type:"number",dense:"",outlined:"",rules:e.rul.t},model:{value:e.t.d,callback:function(t){e.$set(e.t,"d",t)},expression:"t.d"}}),e._v(" "),t(o.a,{staticClass:"white--text",attrs:{block:"",depressed:"",color:"primary"},on:{click:e.setNewTasas}},[e._v("\n      cambiar tasas\n    ")])],1)],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"d-flex justify-space-between align-center mb-4"},[e("span",{staticClass:"body-1 font-weight-bold p-color",attrs:{color:"black"}},[this._v("TASA DE CAMBIO")])])}],!1,null,null,null).exports,ChangeDollar:Object(k.a)(B,(function(){var e=this,t=e._self._c;return t("div",[t(M.c,[e.overlay?t(L.a,{attrs:{absolute:"",color:"grey"}},[t(o.a,{attrs:{color:"primary"},on:{click:function(t){e.overlay=!1}}},[e._v("\n        cambiar dolar\n      ")])],1):e._e()],1),e._v(" "),e._m(0),e._v(" "),t(R.a,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(T.a,{attrs:{label:"BolÃ­vares por DÃ³lar",type:"number",dense:"",outlined:""},model:{value:e.bs,callback:function(t){e.bs=t},expression:"bs"}}),e._v(" "),t(o.a,{staticClass:"white--text",attrs:{block:"",depressed:"",color:"primary"},on:{click:e.setNewBolivares}},[e._v("\n      cambiar dolar\n    ")])],1)],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"d-flex justify-space-between align-center mb-4"},[e("span",{staticClass:"body-1 font-weight-bold p-color",attrs:{color:"black"}},[this._v("MONITOR DOLAR VENEZUELA")])])}],!1,null,null,null).exports},data:function(){return{dialog:!1,message:""}},computed:Y({},Object(x.c)("message",["showMessage","showOnMessage"])),mounted:function(){var e=this;this.setPendingOrders(),this.setDayOrders(),this.setBolivarsPayable(),this.getTasas(),this.setBolivaresPorDollar(),this.getUsers(),this.getMessage(),this.getRemitentesLength(),setTimeout((function(){e.getRemitentes(0)}),400)},methods:Y(Y(Y(Y(Y(Y(Y(Y(Y(Y(Y({},Object(x.b)("adminOrders",["setPendingOrders"])),Object(x.b)("adminOrders",["setDayOrders"])),Object(x.b)("adminOrders",["setBolivarsPayable"])),Object(x.b)("adminTasas",["getTasas"])),Object(x.b)("adminOrders",["setBolivaresPorDollar"])),Object(x.b)("adminUsers",["getUsers"])),Object(x.b)("remitentes",["getRemitentes"])),Object(x.b)("message",["getMessage"])),Object(x.b)("user",["closeSesionAdmin"])),Object(x.b)("remitentes",["getRemitentesLength"])),{},{openModalTextServer:function(){this.dialog=!0},setMessageServer:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nuxt.$emit("LOADING_OPEN"),t.prev=1,t.next=4,e.$fireStore.collection("message").add({message:e.message,timestamp:Number(new Date)});case 4:e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Mensaje seteado correctamente",color:"success"}),e.closeModal(),e.$nuxt.$emit("LOADING_CLOSE"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al fijar el mensaje",color:"pink"}),e.$nuxt.$emit("LOADING_CLOSE");case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},closeModal:function(){this.message="",this.dialog=!1}})},z=Object(k.a)(G,(function(){var e=this,t=e._self._c;return t("div",[e.showOnMessage?t(n.a,{attrs:{color:"deep-purple darken-3",dark:""}},[t("div",{staticClass:"d-flex justify-space-between align-center"},[t("span",{staticClass:"body-2"},[e._v("\n        "+e._s(e.showMessage.message)+"\n        "),t("small",[e._v(e._s(e.$moment(e.showMessage.timestamp).format("DD.MM.YYYY hh:mm a")))])]),e._v(" "),t(o.a,{staticClass:"pink",attrs:{small:""},on:{click:e.openModalTextServer}},[e._v("nuevo mensaje")])],1)]):e._e(),e._v(" "),t("Indicadores"),e._v(" "),t(v.a,[t(d.a,{attrs:{cols:"12",lg:"8"}},[t("PendingOrders")],1),e._v(" "),t(d.a,{attrs:{cols:"12",lg:"4"}},[t(v.a,[t(d.a,{attrs:{cols:"12"}},[t(c.a,{staticClass:"pa-6 b-shadow"},[t("ChangeTasas")],1)],1)],1),e._v(" "),t(v.a,[t(d.a,{attrs:{cols:"12"}},[t(c.a,{staticClass:"pa-6 b-shadow"},[t("ChangeDollar")],1)],1)],1)],1)],1),e._v(" "),t(m.a,{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(c.a,[t(l.c,{staticClass:"mb-10 primary text-center"},[t("p",{staticClass:"text-center white--text w-full headline"},[e._v("\n          NUEVO MENSAJE GLOBAL\n        ")])]),e._v(" "),t(l.b,[t(f.a,{attrs:{autofocus:"",outlined:"",label:"Escriba su Mensaje"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),e._v(" "),t(l.a,[t(_.a),e._v(" "),t(o.a,{attrs:{color:"pink",text:""},on:{click:e.closeModal}},[e._v(" cancelar ")]),e._v(" "),t(o.a,{attrs:{color:"primary",text:""},on:{click:e.setMessageServer}},[e._v("\n          enviar mensaje\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=z.exports}}]);