(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{259:function(e,t,n){"use strict";var r=n(120);t.a=r.a},551:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(97),o=n(0),l=Object(o.i)("v-toolbar__title"),c=Object(o.i)("v-toolbar__items");r.a},557:function(e,t,n){var content=n(558);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("5c8fbe94",content,!0,{sourceMap:!1})},558:function(e,t,n){var r=n(19)(!1);r.push([e.i,".theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:#fff}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:hsla(0,0%,100%,.5)}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:hsla(0,0%,100%,.5)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:rgba(0,0,0,.87)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:rgba(0,0,0,.38)}.v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{padding-top:2px;align-self:start}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__control textarea{caret-color:auto}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),e.exports=r},559:function(e,t,n){var content=n(574);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("48def330",content,!0,{sourceMap:!1})},560:function(e,t,n){var content=n(561);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("7f6d4ad6",content,!0,{sourceMap:!1})},561:function(e,t,n){var r=n(19)(!1);r.push([e.i,".theme--light.v-pagination .v-pagination__item{background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-pagination .v-pagination__item--active{color:#fff}.theme--light.v-pagination .v-pagination__navigation{background:#fff}.theme--dark.v-pagination .v-pagination__item{background:#1e1e1e;color:#fff}.theme--dark.v-pagination .v-pagination__item--active{color:#fff}.theme--dark.v-pagination .v-pagination__navigation{background:#1e1e1e}.v-pagination{align-items:center;display:inline-flex;list-style-type:none;justify-content:center;margin:0;max-width:100%;width:100%}.v-pagination.v-pagination{padding-left:0}.v-pagination>li{align-items:center;display:flex}.v-pagination--circle .v-pagination__item,.v-pagination--circle .v-pagination__more,.v-pagination--circle .v-pagination__navigation{border-radius:50%}.v-pagination--disabled{pointer-events:none;opacity:.6}.v-pagination__item{background:transparent;border-radius:4px;font-size:1rem;height:34px;margin:.3rem;min-width:34px;padding:0 5px;text-decoration:none;transition:.3s cubic-bezier(0,0,.2,1);width:auto;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-pagination__item--active{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-pagination__navigation{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);border-radius:4px;display:inline-flex;justify-content:center;align-items:center;text-decoration:none;height:32px;width:32px;margin:.3rem 10px}.v-pagination__navigation .v-icon{transition:.2s cubic-bezier(.4,0,.6,1);vertical-align:middle}.v-pagination__navigation--disabled{opacity:.6;pointer-events:none}.v-pagination__more{margin:.3rem;display:inline-flex;align-items:flex-end;justify-content:center;height:32px;width:32px}",""]),e.exports=r},570:function(e,t,n){var content=n(571);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("83ff91dc",content,!0,{sourceMap:!1})},571:function(e,t,n){var r=n(19)(!1);r.push([e.i,".theme--light.v-file-input .v-file-input__text{color:rgba(0,0,0,.87)}.theme--light.v-file-input .v-file-input__text--placeholder{color:rgba(0,0,0,.6)}.theme--light.v-file-input.v-input--is-disabled .v-file-input__text,.theme--light.v-file-input.v-input--is-disabled .v-file-input__text .v-file-input__text--placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-file-input .v-file-input__text{color:#fff}.theme--dark.v-file-input .v-file-input__text--placeholder{color:hsla(0,0%,100%,.7)}.theme--dark.v-file-input.v-input--is-disabled .v-file-input__text,.theme--dark.v-file-input.v-input--is-disabled .v-file-input__text .v-file-input__text--placeholder{color:hsla(0,0%,100%,.5)}.v-file-input input[type=file]{left:0;opacity:0;pointer-events:none;position:absolute;max-width:0;width:0}.v-file-input .v-file-input__text{align-items:center;align-self:stretch;display:flex;flex-wrap:wrap;width:100%}.v-file-input .v-file-input__text.v-file-input__text--chips{flex-wrap:wrap}.v-file-input .v-file-input__text .v-chip{margin:4px}.v-file-input .v-text-field__slot{min-height:32px}.v-file-input.v-input--dense .v-text-field__slot{min-height:26px}.v-file-input.v-text-field--filled:not(.v-text-field--single-line) .v-file-input__text{padding-top:22px}.v-file-input.v-text-field--outlined .v-text-field__slot{padding:6px 0}.v-file-input.v-text-field--outlined.v-input--dense .v-text-field__slot{padding:3px 0}",""]),e.exports=r},573:function(e,t,n){"use strict";n(559)},574:function(e,t,n){var r=n(19)(!1);r.push([e.i,"._section[data-v-19dbb175]{position:relative;max-width:600px;margin:0 auto;border-radius:12px 12px 0 0;padding:10px 25px 40px}._top[data-v-19dbb175]{margin-top:-25px}.c-vertical[data-v-19dbb175]{top:50%;transform:translateY(-50%)}.border-r[data-v-19dbb175]{border-radius:12px!important;padding-bottom:20px}",""]),e.exports=r},577:function(e,t,n){"use strict";var r=n(10),o=n(578).start;r({target:"String",proto:!0,forced:n(579)},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},578:function(e,t,n){var r=n(23),o=n(129),l=n(47),c=n(279),d=n(76),v=r(c),f=r("".slice),h=Math.ceil,m=function(e){return function(t,n,r){var c,m,x=l(d(t)),_=o(n),y=x.length,w=void 0===r?" ":l(r);return _<=y||""==w?x:((m=v(w,h((c=_-y)/w.length))).length>c&&(m=f(m,0,c)),e?x+m:m+x)}};e.exports={start:m(!1),end:m(!0)}},579:function(e,t,n){var r=n(109);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},581:function(e,t,n){"use strict";var r=n(166),o=n(253),l=n(251),c=n(545),d=n(539),v=n(626),f=n(250),h=n(552),m=n(538),x=n(585),_=n(97),y=n(551),w=(n(24),n(29),n(34),n(12),n(13),n(14),n(8),n(15),n(17)),O=n(2),S=(n(41),n(11),n(6),n(563)),C=n.n(S),$=n(35);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var P={data:function(){return{dialog:!1,resume:null,order:null,control:{img:!1,cancel:!1},capture:[],cancelMessage:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(O.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object($.c)("adminUsers",["showUsers"])),mounted:function(){var e=this;this.$nuxt.$on("ADMIN_ORDER_OPEN",(function(t,n){e.resume=n,e.order=t,e.dialog=!0,e.control.img=!1,e.control.cancel=!1,e.capture=[],e.cancelMessage=""}))},methods:{orderAddNew:function(){var e=this;this.$nuxt.$emit("LOADING_OPEN");var t=this.$fireStorage.ref("payments").child("".concat(+new Date)).put(this.capture[0]);t.on("state_changed",(function(e){}),(function(t){e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al cargar la imagen",color:"pink"}),e.$nuxt.$emit("LOADING_CLOSE")}),Object(w.a)(regeneratorRuntime.mark((function n(){var r,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.snapshot.ref.getDownloadURL();case 2:return r=n.sent,o=e.findUserPoint(e.order.uid).email,n.prev=4,n.next=7,e.$fireStore.collection("orders").where("uid","==",e.order.uid).where("id","==",e.order.id).get();case 7:return l=n.sent,e.$fireStore.collection("orders").doc(l.docs[0].id).update({status:"completada","payout.payout":!0,"payout.img":r,"payout.timestamp":Number(new Date)}),n.next=11,e.setNotification(!0);case 11:return n.next=13,e.sendEmail(o,r);case 13:e.dialog=!1,e.$nuxt.$emit("LOADING_CLOSE"),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"La orden se marco pagada correctamente",color:"success"}),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(4),e.$nuxt.$emit("LOADING_CLOSE"),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al marcar la orden como pagada",color:"success"});case 22:case"end":return n.stop()}}),n,null,[[4,18]])}))))},orderCancel:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nuxt.$emit("LOADING_OPEN"),t.prev=1,t.next=4,e.$fireStore.collection("orders").where("uid","==",e.order.uid).where("id","==",e.order.id).get();case 4:return n=t.sent,e.$fireStore.collection("orders").doc(n.docs[0].id).update({status:"cancelada","payout.timestamp":Number(new Date),"payout.message":e.cancelMessage}),t.next=8,e.setNotification();case 8:e.dialog=!1,e.$nuxt.$emit("LOADING_CLOSE"),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Orden cancelada correctamente",color:"success"}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),e.$nuxt.$emit("SNACKBAR_OPEN",{text:"Error al intentar cancelar la orden",color:"pink"}),e.$nuxt.$emit("LOADING_CLOSE");case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()},setNotification:function(e){var t=this;return Object(w.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$fireStore.collection("notifications").add({uid:t.order.uid,show:!1,timestamp:Number(new Date),type:e?"completada":"cancelada",idOrder:t.order.id});case 3:n.next=13;break;case 5:if(n.prev=5,n.t0=n.catch(0),!e){n.next=11;break}return t.$nuxt.$emit("SNACKBAR_OPEN",{text:"Se pago la orden, pero hubo un error al intentar enviar la notificacion",color:"pink"}),t.$nuxt.$emit("LOADING_CLOSE"),n.abrupt("return");case 11:t.$nuxt.$emit("SNACKBAR_OPEN",{text:"Se cancelo la orden, pero hubo un error al intentar enviar la notificacion",color:"pink"}),t.$nuxt.$emit("LOADING_CLOSE");case 13:case"end":return n.stop()}}),n,null,[[0,5]])})))()},sendEmail:function(e,t){var n=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,C.a.post("https://us-central1-giros-venezuela-9d086.cloudfunctions.net/sendemail",{to:e,subject:"🥳 Pagamos una de tus ordenes",html:"\n                  <h1>Acabamos e pagar una de tus ordenes</h1>\n                  <p>Tu orden con el ID ".concat(n.order.id.toLocaleUpperCase(),'</p>\n\n                  <a href="').concat(t,'">Ver capture el pago! 📷</a>\n                  ')});case 3:r.next=9;break;case 5:r.prev=5,r.t0=r.catch(0),n.$nuxt.$emit("SNACKBAR_OPEN",{text:"Se pago la orden, pero no se envio el email de notificacion",color:"pink"}),n.$nuxt.$emit("LOADING_CLOSE");case 9:case"end":return r.stop()}}),r,null,[[0,5]])})))()},findUserPoint:function(e){return this.showUsers?this.showUsers.filter((function(t){return t.uid===e}))[0]:""},calcPercentage:function(e){var a=(e.amount.pesos*this.findUserPoint(e.uid).percentage/100).format(0,3,".");return"".concat(a,"$ (").concat(this.findUserPoint(e.uid).percentage,"%)")},controlImg:function(){if(!this.control.img)return this.control.img=!0,void(this.control.cancel=!1);this.control.img=!1,this.control.cancel=!1},controlCancel:function(){if(!this.control.cancel)return this.control.cancel=!0,void(this.control.img=!1);this.control.cancel=!1,this.control.img=!1}}},j=P,D=(n(573),n(44)),component=Object(D.a)(j,(function(){var e=this,t=e._self._c;return t(h.a,{attrs:{justify:"center"}},[t(d.a,{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.order?t(o.a,[t(_.a,{attrs:{dark:"",color:"purple"}},[t(y.b,[e._v("\n          "+e._s(e.resume?"Administrar la":"Detalles de la")+" orden\n          "),t("span",{staticClass:"text-uppercase"},[e._v(" "+e._s(e.order.id)+" ")])]),e._v(" "),t(m.a),e._v(" "),t(y.a,[t(r.a,{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[t(f.a,[e._v("mdi-close")])],1)],1)],1),e._v(" "),t(c.a,{staticClass:"mt-7"},[t("div",{staticClass:"d-flex flex-column align-center justify-center"},[t("span",{staticClass:"grey--text mb-2"},[e._v("Montos de la Orden")]),e._v(" "),t("h1",{staticClass:"h6"},[e._v("\n            "+e._s(e.$currencyFormat(e.$unFormat("".concat(e.order.amount.pesos))/e.order.amount.tasa))+" Bs\n          ")]),e._v(" "),t("p",[t("span",{staticClass:"primary--text"},[e._v(e._s(Number(e.$unFormat("".concat(e.order.amount.pesos))).format(0,3,"."))+" $")]),e._v(" "),t("span",{staticClass:"font-weight-medium mx-2"},[e._v("|")]),e._v(" "),t("span",{staticClass:"font-weight-medium green--text"},[e._v(e._s(e.order.amount.tasa))])])]),e._v(" "),t("div",{staticClass:"_section mt-5 b-shadow purple white--text"},[t("div",{staticClass:"overline"},[e._v("Punto de Venta")]),e._v(" "),t("div",{staticClass:"d-flex flex-column mt-3 text-capitalize"},[t("span",[e._v("\n              "+e._s(e.findUserPoint(e.order.uid).company)+"\n            ")]),e._v(" "),t("p",[t("span",[e._v(e._s(e.findUserPoint(e.order.uid).address))])])])]),e._v(" "),t("div",{staticClass:"_section _top b-shadow primary white--text"},[t("div",{staticClass:"overline"},[e._v("Remitente")]),e._v(" "),t("div",{staticClass:"d-flex flex-column mt-3 text-capitalize"},[t("span",[e._v("\n              "+e._s("".concat(e.order.remitente.name," ").concat(e.order.remitente.nameSecond?e.order.remitente.nameSecond:""," ").concat(e.order.remitente.surname," ").concat(e.order.remitente.surnameSecond?e.order.remitente.surnameSecond:""))+"\n            ")]),e._v(" "),t("p",[t("span",[e._v(e._s("".concat(e.$getId(e.order.remitente.tid)).concat(e.order.remitente.id)))]),e._v(" "),t("span",{staticClass:"mx-2"},[e._v("|")]),e._v(" "),t("span",[e._v(e._s(e.order.remitente.phone))])])])]),e._v(" "),t("div",{staticClass:"_section _top b-shadow blue white--text"},[t("div",{staticClass:"overline"},[e._v("destinatario")]),e._v(" "),t("div",{staticClass:"d-flex flex-column mt-3 text-capitalize"},[t("span",[e._v("\n              "+e._s(e.order.destinatario.name)+"\n            ")]),e._v(" "),t("p",[t("span",[e._v(e._s("".concat(e.$getId(e.order.destinatario.tid)).concat(e.order.destinatario.id)))]),e._v(" "),t("span",{staticClass:"mx-2"},[e._v("|")]),e._v(" "),t("span",[e._v(e._s(e.order.destinatario.bank))])]),e._v(" "),t("p",[t("span",[e._v(" "+e._s(e.order.destinatario.account)+" ")])])])]),e._v(" "),t("div",{staticClass:"_section _top b-shadow yellow black--text"},[t("div",{staticClass:"overline"},[e._v("metodo de pago")]),e._v(" "),t("div",{staticClass:"d-flex flex-column mt-3 text-capitalize"},[e.order.payment_method&&e.order.payment_method.type?t("span",[e._v("\n              "+e._s(e.order.payment_method.type)+"\n            ")]):e._e(),e._v(" "),e.order.payment_method&&e.order.payment_method.text?t("span",[e._v("\n              "+e._s(e.order.payment_method.text)+"\n            ")]):e._e()])]),e._v(" "),t("div",{staticClass:"_section border-r _top white b-shadow black--text"},[t("div",{staticClass:"overline"},[e._v("\n            "+e._s(e.resume?"acciones":"detalles")+"\n          ")]),e._v(" "),e.resume?t("div",[t("div",{staticClass:"d-flex flex-column flex-lg-row justify-lg-space-between mt-5 text-capitalize"},[t(r.a,{staticClass:"white--text",attrs:{depressed:"",color:"pink"},on:{click:e.controlCancel}},[e._v("\n                cancelar orden\n              ")]),e._v(" "),t(r.a,{staticClass:"mt-3 mt-lg-0 white--text",attrs:{disabled:e.control.img,depressed:"",color:"green"},on:{click:e.controlImg}},[e._v("\n                subir imagen de pago\n              ")]),e._v(" "),t(r.a,{staticClass:"mt-3 mt-lg-0 white--text",attrs:{disabled:0===e.capture.length,depressed:"",color:"green"},on:{click:e.orderAddNew}},[e._v("\n                pagar orden\n              ")])],1),e._v(" "),t("div",{staticClass:"mt-5"},[e.control.img?t("div",[t(v.a,{ref:"capture",attrs:{accept:"image/*",color:"primary",counter:"",label:"Capture de pago",multiple:"",placeholder:"Seleccione la imagen","prepend-icon":"mdi-paperclip",outlined:"",dense:"","show-size":1e3},scopedSlots:e._u([{key:"selection",fn:function(n){var r=n.index,text=n.text;return[r<2?t(l.a,{attrs:{color:"primary",dark:"",label:"",small:""}},[e._v("\n                      "+e._s(text)+"\n                    ")]):2===r?t("span",{staticClass:"overline grey--text text--darken-3 mx-2"},[e._v("\n                      +"+e._s(e.files.length-2)+" File(s)\n                    ")]):e._e()]}}],null,!1,1499417495),model:{value:e.capture,callback:function(t){e.capture=t},expression:"capture"}})],1):e._e(),e._v(" "),e.control.cancel?t("div",[t(x.a,{ref:"capture",attrs:{outlined:"",color:"pink",name:"input-7-4",label:"Motivo",placeholder:"Escriba todos los motivos posibles por lo que cancela la orden"},model:{value:e.cancelMessage,callback:function(t){e.cancelMessage=t},expression:"cancelMessage"}}),e._v(" "),t(r.a,{staticClass:"white--text",attrs:{disabled:e.cancelMessage.length<5,color:"pink",block:""},on:{click:e.orderCancel}},[e._v("\n                  si, cancelar orden\n                ")])],1):e._e()])]):t("div",[t("div",{staticClass:"d-flex flex-column mt-3"},[t("span",[t("strong",{staticClass:"mr-1"},[e._v("Fecha: ")]),e._v("\n                "+e._s(e.$moment(e.order.timestamp).format("DD-MM-YYYY hh:mm a"))+"\n              ")]),e._v(" "),t("span",[t("strong",{staticClass:"mr-1"},[e._v("Estado: ")]),e._v(" "),t("span",{staticClass:"text-capitalize"},[e._v(e._s(e.order.status))])]),e._v(" "),"cancelada"!==e.order.status?t("span",[t("strong",{staticClass:"mr-1"},[e._v("Porcentaje: ")]),e._v("\n                "+e._s("".concat(e.calcPercentage(e.order)))+"\n              ")]):e._e(),e._v(" "),"pendiente"!==e.order.status?t("p",[t("strong",{staticClass:"pr-1"},[e._v("Definición de la orden: ")]),e._v(" "),t("span",{staticClass:"text-capitalize"},[e._v("\n                  "+e._s(e.$moment(e.order.payout.timestamp).format("DD-MM-YYYY hh:mm a"))+"\n                ")])]):e._e(),e._v(" "),"cancelada"===e.order.status?t("span",[t("strong",{staticClass:"mr-1"},[e._v("Motivo cancelacion: ")]),e._v("\n                "+e._s(e.order.payout.message)+"\n              ")]):e._e(),e._v(" "),"completada"===e.order.status?t(r.a,{staticClass:"mt-5",attrs:{href:e.order.payout.img,target:"_blank",color:"#00E676",dark:"",depressed:""}},[e._v("\n                ver capture del pago\n              ")]):e._e()],1)])])])],1):e._e()],1)],1)}),[],!1,null,"19dbb175",null);t.a=component.exports},585:function(e,t,n){"use strict";n(12),n(13),n(11),n(6),n(14),n(8),n(15);var r=n(2),o=(n(24),n(52),n(557),n(120)),l=n(7);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var d=Object(l.a)(o.a);t.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(e){var t=this;this.$nextTick((function(){var n;e?t.calculateInputHeight():null==(n=t.$refs.input)||n.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var e=input.scrollHeight,t=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(t,e)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(e){o.a.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},604:function(e,t,n){"use strict";n(12),n(13),n(11),n(14),n(8),n(15);var r=n(48),o=n(2),l=(n(24),n(29),n(52),n(6),n(81),n(70),n(560),n(45)),c=n(93),d=n(25),v=n(281),f=n(18),h=n(7);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}t.a=Object(h.a)(d.a,Object(v.a)({onVisible:["init"]}),f.a).extend({name:"v-pagination",directives:{Resize:c.a},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(e){return e%1==0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var e=parseInt(this.totalVisible,10);if(0===e)return[];var t=Math.min(Math.max(0,e)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=t)return this.range(1,this.length);var n=t%2==0?1:0,o=Math.floor(t/2),l=this.length-o+1+n;if(this.value>o&&this.value<l){var c=this.length,d=this.value-o+2,v=this.value+o-2-n,f=v+1===c-1?v+1:"...";return[1,d-1==2?2:"..."].concat(Object(r.a)(this.range(d,v)),[f,this.length])}if(this.value===o){var h=this.value+o-1-n;return[].concat(Object(r.a)(this.range(1,h)),["...",this.length])}if(this.value===l){var m=this.value-o+1;return[1,"..."].concat(Object(r.a)(this.range(m,this.length)))}return[].concat(Object(r.a)(this.range(1,o)),["..."],Object(r.a)(this.range(l,this.length)))}},watch:{value:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){var e=this;this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((function(){return e.selected=e.value}),100)},onResize:function(){var e=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((e-96)/42)},next:function(e){e.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(e){e.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(e,t){for(var n=[],i=e=e>0?e:1;i<=t;i++)n.push(i);return n},genIcon:function(e,t,n,r,label){return e("li",[e("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{disabled:n,type:"button","aria-label":label},on:n?{}:{click:r}},[e(l.a,[t])])])},genItem:function(e,i){var t=this,n=i===this.value&&(this.color||"primary"),r=i===this.value,o=r?this.currentPageAriaLabel:this.pageAriaLabel;return e("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":i===this.value},attrs:{type:"button","aria-current":r,"aria-label":this.$vuetify.lang.t(o,i)},on:{click:function(){return t.$emit("input",i)}}}),[i.toString()])},genItems:function(e){var t=this;return this.items.map((function(i,n){return e("li",{key:n},[isNaN(Number(i))?e("span",{class:"v-pagination__more"},[i.toString()]):t.genItem(e,i)])}))},genList:function(e,t){return e("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},t)}},render:function(e){var t=[this.genIcon(e,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(e),this.genIcon(e,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return e("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(e,t)])}})},606:function(e,t,n){var content=n(683);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("decb0f8e",content,!0,{sourceMap:!1})},626:function(e,t,n){"use strict";n(12),n(13),n(11),n(14),n(15);var r=n(48),o=n(2),l=n(28),c=(n(24),n(38),n(6),n(70),n(34),n(29),n(179),n(8),n(51),n(570),n(259)),d=n(251),v=n(0),f=n(16),h=n(60);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=c.a.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(e){return"boolean"==typeof e||[1e3,1024].includes(e)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(e){return Object(v.B)(e).every((function(e){return null!=e&&"object"===Object(l.a)(e)}))}}},computed:{classes:function(){return x(x({},c.a.options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var e=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);var t=this.internalArrayValue.reduce((function(e,t){var n=t.size;return e+(void 0===n?0:n)}),0);return this.$vuetify.lang.t(this.counterSizeString,e,Object(v.s)(t,1024===this.base))},internalArrayValue:function(){return Object(v.B)(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var e=this;return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(t){var n=t.name,r=void 0===n?"":n,o=t.size,l=void 0===o?0:o,c=e.truncateText(r);return e.showSize?"".concat(c," (").concat(Object(v.s)(l,1024===e.base),")"):c})):[this.placeholder]},base:function(){return"boolean"!=typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(e){!0===e&&Object(f.b)("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(e){var t=this.multiple?e:e?[e]:[];Object(v.j)(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var e=this;return this.isDirty?this.text.map((function(text,t){return e.$createElement(d.a,{props:{small:e.smallChips},on:{"click:close":function(){var n=e.internalValue;n.splice(t,1),e.internalValue=n}}},[text])})):[]},genControl:function(){var e=c.a.options.methods.genControl.call(this);return this.hideInput&&(e.data.style=Object(h.c)(e.data.style,{display:"none"})),e},genInput:function(){var input=c.a.options.methods.genInput.call(this);return input.data.attrs.multiple=this.multiple,delete input.data.domProps.value,delete input.data.on.input,input.data.on.change=this.onInput,[this.genSelections(),input]},genPrependSlot:function(){var e=this;if(!this.prependIcon)return null;var t=this.genIcon("prepend",(function(){e.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText:function(){var e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections:function(){var e=this,t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(n,r){e.$scopedSlots.selection&&t.push(e.$scopedSlots.selection({text:e.text[r],file:n,index:r}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot:function(){var e=this,t=c.a.options.methods.genTextFieldSlot.call(this);return t.data.on=x(x({},t.data.on||{}),{},{click:function(){return e.$refs.input.click()}}),t},onInput:function(e){var t=Object(r.a)(e.target.files||[]);this.internalValue=this.multiple?t:t[0],this.initialValue=this.internalValue},onKeyDown:function(e){this.$emit("keydown",e)},truncateText:function(e){if(e.length<Number(this.truncateLength))return e;var t=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(e.slice(0,t),"…").concat(e.slice(e.length-t))}}})},682:function(e,t,n){"use strict";n(606)},683:function(e,t,n){var r=n(19)(!1);r.push([e.i,"#overlay[data-v-2791efd6]{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:2;cursor:pointer}#overlay-loader[data-v-2791efd6]{position:absolute;top:50%;left:50%}.e-panel[data-v-2791efd6]{border-bottom:1px solid rgba(0,0,0,.1)}.b-pendiente[data-v-2791efd6]{border-left:3px solid #fbc02d}.b-completada[data-v-2791efd6]{border-left:3px solid #00e676}.b-cancelada[data-v-2791efd6]{border-left:3px solid #e91e63}.bg-pendiente[data-v-2791efd6]{background:#fbc02d}.bg-completada[data-v-2791efd6]{background:#00e676}.bg-cancelada[data-v-2791efd6]{background:#e91e63}._resumen[data-v-2791efd6]{width:100%}._resumen .col[data-v-2791efd6]{padding:4px 5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.c-chip[data-v-2791efd6]{border-radius:7px;padding:0 14px;color:#fff;font-size:9px}",""]),e.exports=r},774:function(e,t,n){"use strict";n.r(t);var r=n(166),o=n(253),l=n(251),c=n(770),d=n(539),v=n(250),f=n(604),h=n(246),m=n(527),x=n(538),_=n(120),y=(n(30),n(278),n(24),n(12),n(13),n(14),n(15),n(32)),w=n(17),O=n(2),S=(n(41),n(70),n(99),n(6),n(8),n(182),n(11),n(344),n(80),n(51),n(29),n(34),n(35)),C=n(581),$=n(605);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(O.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j={components:{modalAdminOrder:C.a},data:function(){return{seleccione:"",banks:[],completada:0,pendientes:0,pagadas:0,cancelada:0,page:1,perPage:10,paginationChunks:[],searchParam:"",select:null,selectPunto:null,search:["Mostrar Todas","Fecha","Punto de Venta","Remitente","Destinatario","Monto","Banco","ID Orden"],date:[],menu:!1,modal:!1,menu2:!1,isSearch:!1,searchResults:[],paginationLength:0}},computed:P(P(P(P({},Object(S.c)("adminOrders",["showOrders"])),Object(S.c)("adminOrders",["showOnOrders"])),Object(S.c)("adminUsers",["showUsers"])),{},{showPuntosVentas:function(){return this.showUsers?this.showUsers.map((function(e){return e.company})):[]},showDates:function(){return this.date.join(" ~ ")},ordersLength:function(){return this.showOrders?this.showOrders.length:0}}),watch:{searchResults:function(){this.paginationLength=Math.ceil(this.searchResults.length/this.perPage)},page:function(){this.paginate()},select:function(){this.selectPunto=null,this.searchParam="",this.date=[]},seleccione:function(){this.date=[]}},created:function(){var e,t=this;this.$fireStore.collection("remitentes").get().then((function(e){e.forEach((function(e){var n,r;null===(n=e.data())||void 0===n||null===(r=n.destinatarios)||void 0===r||r.forEach((function(e){-1==t.banks.findIndex((function(t){return t==e.bank}))&&t.banks.push(e.bank)}))}))})),this.showOrders||null!==(e=this.showOrders)&&void 0!==e&&e.length},methods:P(P({},Object(S.b)("adminOrders",["getOrders"])),{},{searchEnabled:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.pendientes=0,e.pagadas=0,e.completada=0,e.cancelada=0,e.filterByQuery().then((function(t){e.searchResults=t,t.forEach((function(t){"completada"==t.status?e.completada++:"cancelada"==t.status?e.cancelada++:"pendiente"==t.status&&e.pendientes++})),e.paginate(),e.isSearch=!1}));case 6:case"end":return t.stop()}}),t)})))()},filterByQuery:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.isSearch=!0;var r=[];if("ID Orden"===e.select)r=[],e.$fireStore.collection("orders").where("id","==",e.searchParam.toLowerCase()).get().then((function(e){e.docs.forEach((function(e){r.push(P({},e.data()))})),t(r)}));else if("Banco"===e.select)r=[],e.$fireStore.collection("orders").where("destinatario.bank","==",e.searchParam.toUpperCase()).get().then((function(n){if(n.docs.forEach((function(e){r.push(P({},e.data()))})),2===e.date.length){var o=Object(y.a)(e.date,2),l=o[0],c=o[1];r=(r=r.filter((function(e){return e.timestamp>=new Date(l).getTime()&&e.timestamp<=new Date(c).getTime()+864e5}))).sort((function(e,t){return t.timestamp-e.timestamp})),t(r)}else r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)}));else if("Monto"===e.select)r=[],e.$fireStore.collection("orders").where("amount.pesos","==",Number(e.searchParam)).get().then((function(n){if(n.docs.forEach((function(e){r.push(P({},e.data()))})),2===e.date.length){var o=Object(y.a)(e.date,2),l=o[0],c=o[1];r=(r=r.filter((function(e){return e.timestamp>=new Date(l).getTime()&&e.timestamp<=new Date(c).getTime()+864e5}))).sort((function(e,t){return t.timestamp-e.timestamp})),t(r)}else r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)}));else if("Punto de Venta"===e.select){var o;if(r=[],e.selectPunto)e.$fireStore.collection("users").where("company","==",e.selectPunto).get().then((function(n){n.docs.forEach((function(e){o=e.data().uid})),e.$fireStore.collection("orders").where("uid","==",o).get().then((function(n){if(n.docs.forEach((function(e){r.push(P({},e.data()))})),2===e.date.length){var o=Object(y.a)(e.date,2),l=o[0],c=o[1];r=(r=r.filter((function(e){return e.timestamp>=new Date(l).getTime()&&e.timestamp<=new Date(c).getTime()+864e5}))).sort((function(e,t){return t.timestamp-e.timestamp})),t(r)}else r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)}))}))}else if("Remitente"===e.select){r=[];var l=e.searchParam.split(" ");4==l.length?e.$fireStore.collection("orders").where("remitente.name","==",l[0].toUpperCase()).where("remitente.nameSecond","==",l[1].toUpperCase()).where("remitente.surname","==",l[2].toUpperCase()).where("remitente.surnameSecond","==",l[3].toUpperCase()).get().then((function(e){e.forEach((function(e){r.push(P({},e.data()))})),r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)})):3==l.length?e.$fireStore.collection("orders").where("remitente.name","==",l[0].toUpperCase()).where("remitente.nameSecond","==",l[1].toUpperCase()).where("remitente.surname","==",l[2].toUpperCase()).get().then((function(e){e.forEach((function(e){r.push(P({},e.data()))})),r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)})):2==l.length?e.$fireStore.collection("orders").where("remitente.name","==",l[0].toUpperCase()).where("remitente.nameSecond","==",l[1].toUpperCase()).get().then((function(e){e.forEach((function(e){r.push(P({},e.data()))})),r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)})):1==l.length?e.$fireStore.collection("orders").orderBy("remitente.name").startAt(l[0].toUpperCase()).get().then((function(e){e.forEach((function(e){r.push(P({},e.data()))})),r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)})):(r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r))}else if("Destinatario"===e.select)r=[],e.$fireStore.collection("orders").orderBy("destinatario.name").startAt(e.searchParam.toUpperCase()).get().then((function(e){e.forEach((function(e){r.push(P({},e.data()))})),r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)}));else if("Fecha"===e.select)if(r=[],2===e.date.length){var c=Object(y.a)(e.date,2),d=c[0],v=c[1];e.$fireStore.collection("orders").where("timestamp",">=",new Date(d).getTime()).where("timestamp","<=",new Date(v).getTime()+864e5).get().then((function(e){e.forEach((function(e){r.push(P({},e.data()))})),r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r)}))}else r=r.sort((function(e,t){return t.timestamp-e.timestamp})),t(r);else e.$fireStore.collection("orders").orderBy("timestamp","desc").get().then((function(e){e.forEach((function(e){r.push(P({},e.data()))})),t(r)}))})));case 1:case"end":return t.stop()}}),t)})))()},paginate:function(){var e=this.page,t=this.perPage,n=e*t-t,r=e*t;this.paginationChunks=this.searchResults.slice(n,r)},createTXT:function(e){var t,n,a=this.$parseObject(e),p=this.$parseObject(this.findUserPointComplete(a.uid)),r=a.remitente,o=a.destinatario;return"========================\nPUNTO DE VENTA\nNombre: ".concat(p.company,"\nCiudad: ").concat(p.city,"\nDireccion: ").concat(p.address,"\n\nREMITENTE\nNombre: ").concat(r.name," ").concat(r.nameSecond?r.nameSecond:""," ").concat(r.surname," ").concat(r.surnameSecond?r.surnameSecond:"","\nDocumento: ").concat(this.$getId(r.tid)).concat(r.id,"\nTelefono: ").concat(r.phone,"\n\nDESTINATARIO\nNombre: ").concat(o.name,"\nDocumento: ").concat(this.$getId(o.tid)).concat(o.id,"\nBanco: ").concat(o.bank,"\nCuenta: ").concat(o.account,"\n\nMETODO DE PAGO\n").concat(null!=a&&null!==(t=a.payment_method)&&void 0!==t&&t.type?a.payment_method.type:" ","\n").concat(null!=a&&null!==(n=a.payment_method)&&void 0!==n&&n.text?a.payment_method.text:" ","\n\nMONTOS\nTasa aplicada: ").concat(a.amount.tasa,"\nEnvio: ").concat(a.amount.pesos.format(0,3,".")," PESOS\nRecibe: ").concat(this.$currencyFormat(a.amount.pesos/a.amount.tasa)," BOLIVARES\nEquivalente: ").concat(a.amount.dollars?a.amount.dollars:"0"," Dólar\n\nFecha creacion de la orden: ").concat(this.$moment(a.timestamp).format("DD-MM-YYYY hh:mm a"),"\nDefinición de la orden: ").concat(a.payout.timestamp?this.$moment(a.payout.timestamp).format("DD-MM-YYYY hh:mm a"):"PENDIENTE POR DEFINIR","\n========================")},printPDF:function(e){var t=this.createTXT(e),n=new $.a;n.text(t,15,20),window.open(n.output("bloburl"))},downloadPDF:function(e){var a=this.$parseObject(e),t=this.createTXT(e),n=new $.a;n.text(t,15,20),n.save("".concat(a.id.toUpperCase(),".pdf"))},copyTextClipboard:function(e){var t=this;return Object(w.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.createTXT(e),n.prev=1,n.next=4,t.$copyText(r);case 4:t.$nuxt.$emit("SNACKBAR_OPEN",{text:"Datos copiados al portapapeles",color:"success"}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),t.$nuxt.$emit("SNACKBAR_OPEN",{text:"No se puedieron copiar los datos",color:"pink"});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},findUserPointComplete:function(e){return this.showUsers?this.showUsers.filter((function(t){return t.uid===e}))[0]:""},showDetailOrder:function(e){this.$nuxt.$emit("ADMIN_ORDER_OPEN",e,!1)},findUserPoint:function(e){var t;return this.showUsers?null===(t=this.showUsers.filter((function(t){return t.uid===e}))[0])||void 0===t?void 0:t.company:""},colorStatus:function(e){return{"b-pendiente":"pendiente"===e,"b-completada":"completada"===e,"b-cancelada":"cancelada"===e}},colorStatusBg:function(e){return{"bg-pendiente":"pendiente"===e,"bg-completada":"completada"===e,"bg-cancelada":"cancelada"===e}}})},D=(n(682),n(44)),component=Object(D.a)(j,(function(){var e=this,t=e._self._c;return t(o.a,{staticClass:"pa-6 b-shadow"},[t("div",{staticClass:"d-flex justify-space-between align-center mb-4"},[t("span",{staticClass:"body-1 font-weight-bold p-color"},[e._v("HISTORIAL DE ORDENES")])]),e._v(" "),t("div",{staticClass:"d-flex align-center justify-space-between"},[t("div",{staticClass:"d-flex align-content-space-between align-center flex-wrap"},[t("div",{staticStyle:{width:"250px","margin-top":"-5px","margin-bottom":"20px"}},[t(m.a,{attrs:{items:e.search,label:"Buscar por",dense:"","hide-details":""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1),e._v(" "),e.select&&"Fecha"!==e.select&&"Mostrar Todas"!==e.select&&"Punto de Venta"!==e.select?t("div",["Banco"==e.select?t("div",{staticStyle:{width:"250px","margin-top":"-5px","margin-bottom":"20px"}},[t(m.a,{attrs:{items:e.banks,label:"Escriba el ".concat(e.select),dense:"","hide-details":""},model:{value:e.searchParam,callback:function(t){e.searchParam=t},expression:"searchParam"}})],1):t("div",{staticStyle:{width:"250px","margin-top":"-5px","margin-bottom":"20px"}},[t(_.a,{attrs:{type:"text",label:"Escriba el ".concat(e.select)},model:{value:e.searchParam,callback:function(t){e.searchParam=t},expression:"searchParam"}})],1)]):e._e(),e._v(" "),"Banco"==e.select?t("div",{staticStyle:{width:"250px","margin-top":"-5px","margin-bottom":"20px"}},[t(m.a,{attrs:{items:["Mostrar Todas","Fecha"],label:"Seleccione",dense:"","hide-details":""},model:{value:e.seleccione,callback:function(t){e.seleccione=t},expression:"seleccione"}})],1):e._e(),e._v(" "),"Banco"==e.select&&"Fecha"==e.seleccione?t("div",{staticStyle:{width:"250px","margin-top":"-1px","margin-bottom":"20px"}},[t(d.a,{ref:"dialog",attrs:{"return-value":e.date,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[t(_.a,e._g(e._b({attrs:{label:"Rango de fechas",readonly:""},model:{value:e.showDates,callback:function(t){e.showDates=t},expression:"showDates"}},"v-text-field",o,!1),r))]}}],null,!1,2422500939),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),t(c.a,{attrs:{scrollable:"",range:"",locale:"es-es"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[t(x.a),e._v(" "),t(r.a,{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("\n              Cancel\n            ")]),e._v(" "),t(r.a,{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.date)}}},[e._v("\n              OK\n            ")])],1)],1)],1):e._e(),e._v(" "),"Monto"==e.select?t("div",{staticStyle:{width:"250px","margin-top":"-5px","margin-bottom":"20px"}},[t(m.a,{attrs:{items:["Mostrar Todas","Fecha"],label:"Seleccione",dense:"","hide-details":""},model:{value:e.seleccione,callback:function(t){e.seleccione=t},expression:"seleccione"}})],1):e._e(),e._v(" "),"Punto de Venta"===e.select?t("div",{staticStyle:{width:"250px","margin-top":"-5px","margin-bottom":"20px"}},[t(m.a,{attrs:{items:e.showPuntosVentas,label:"Seleccione el punto de Venta",dense:"","hide-details":""},model:{value:e.selectPunto,callback:function(t){e.selectPunto=t},expression:"selectPunto"}})],1):e._e(),e._v(" "),"Punto de Venta"==e.select?t("div",{staticStyle:{width:"250px","margin-top":"-5px","margin-bottom":"20px"}},[t(m.a,{attrs:{items:["Mostrar Todas","Fecha"],label:"Seleccione",dense:"","hide-details":""},model:{value:e.seleccione,callback:function(t){e.seleccione=t},expression:"seleccione"}})],1):e._e(),e._v(" "),"Fecha"===e.select||"Monto"===e.select&&"Fecha"==e.seleccione||e.selectPunto&&"Fecha"==e.seleccione?t("div",{staticStyle:{width:"250px","margin-top":"-1px","margin-bottom":"20px"}},[t(d.a,{ref:"dialog",attrs:{"return-value":e.date,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[t(_.a,e._g(e._b({attrs:{label:"Rango de fechas",readonly:""},model:{value:e.showDates,callback:function(t){e.showDates=t},expression:"showDates"}},"v-text-field",o,!1),r))]}}],null,!1,2422500939),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),t(c.a,{attrs:{scrollable:"",range:"",locale:"es-es"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[t(x.a),e._v(" "),t(r.a,{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("\n              Cancel\n            ")]),e._v(" "),t(r.a,{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.date)}}},[e._v("\n              OK\n            ")])],1)],1)],1):e._e(),e._v(" "),t("div",{staticClass:"ml-4",staticStyle:{"margin-bottom":"20px","margin-top":"-5px"}},[t(r.a,{attrs:{depressed:"",color:"warning"},on:{click:e.searchEnabled}},[e._v("buscar")])],1)])]),e._v(" "),t("div",{staticClass:"mt-1"},[e.searchResults?t(l.a,{staticClass:"mb-1",attrs:{color:"green",label:"","text-color":"white"}},[t(v.a,{attrs:{left:""}},[e._v(" mdi-label ")]),e._v("\n      Pagadas: "+e._s(e.$currencyWithoutComma("".concat(e.completada)))+"\n    ")],1):e._e(),e._v(" "),e.searchResults?t(l.a,{staticClass:"mb-1",attrs:{color:"orange",label:"","text-color":"white"}},[t(v.a,{attrs:{left:""}},[e._v(" mdi-label ")]),e._v("\n      Pendientes: "+e._s(e.$currencyWithoutComma("".concat(e.pendientes)))+"\n    ")],1):e._e(),e._v(" "),e.searchResults?t(l.a,{staticClass:"mb-1",attrs:{color:"red",label:"","text-color":"white"}},[t(v.a,{attrs:{left:""}},[e._v(" mdi-label ")]),e._v("\n      Canceladas: "+e._s(e.$currencyWithoutComma("".concat(e.cancelada)))+"\n    ")],1):e._e(),e._v(" "),e.searchResults?t(l.a,{staticClass:"mb-1",attrs:{color:"indigo",label:"","text-color":"white"}},[t(v.a,{attrs:{left:""}},[e._v(" mdi-label ")]),e._v("\n      Total: "+e._s(e.$currencyWithoutComma("".concat(e.searchResults.length)))+"\n    ")],1):e._e()],1),e._v(" "),e.showOrders&&0!==e.showOrders.length||!e.isSearch?t("div",{staticClass:"pb-2 mt-7 h-full"},e._l(e.paginationChunks,(function(n,i){return t("div",{key:i,staticClass:"e-panel py-3 c-hover",class:e.colorStatus(n.status)},[t("div",{staticClass:"body-2 px-3"},[t("div",{staticClass:"d-flex justify-space-between align-center _resumen"},[t("div",[t("div",[t("strong",{staticClass:"text-capitalize"},[e._v(e._s(e.findUserPoint(n.uid)))])]),e._v(" "),t("div",[t("small",{staticClass:"c-chip mr-1",class:e.colorStatusBg(n.status)},[e._v(e._s(n.status))]),e._v(" "),t("small",{staticClass:"c-chip purple mr-2"},[e._v(e._s(Number(e.$unFormat("".concat(n.amount.pesos))).format(0,3,"."))+"\n                $")]),e._v(" "),t("small",{staticClass:"c-chip primary"},[e._v(e._s(n.destinatario.bank))])]),e._v(" "),t("div",[t("span",{staticClass:"text-uppercase grey--text"},[e._v(e._s(n.destinatario.account))])]),e._v(" "),t("div",{staticClass:"text-uppercase grey--text"},[t("span",[e._v(e._s(e.$moment(n.timestamp).format("DD.MM.YYYY hh:mm a")))]),e._v("\n              | "),t("span",[e._v("Orden ID-"+e._s(n.id))])])]),e._v(" "),t("div",[t(r.a,{attrs:{title:"descargar PDF",color:"transparent",depressed:"",dark:"",small:"",fab:""},on:{click:function(t){return e.downloadPDF(n)}}},[t(v.a,{attrs:{small:"",color:"primary"}},[e._v(" mdi-download ")])],1),e._v(" "),t(r.a,{attrs:{title:"imprimir PDF",color:"transparent",depressed:"",dark:"",small:"",fab:""},on:{click:function(t){return e.printPDF(n)}}},[t(v.a,{attrs:{small:"",color:"primary"}},[e._v("mdi-printer")])],1),e._v(" "),t(r.a,{attrs:{title:"copiar datos de la orden",color:"transparent",depressed:"",dark:"",small:"",fab:""},on:{click:function(t){return e.copyTextClipboard(n)}}},[t(v.a,{attrs:{small:"",color:"primary"}},[e._v("mdi-clipboard-check-multiple")])],1),e._v(" "),t(r.a,{attrs:{title:"ver resumen de orden",color:"transparent",depressed:"",dark:"",small:"",fab:""},on:{click:function(t){return e.showDetailOrder(n)}}},[t(v.a,{attrs:{small:"",color:"primary"}},[e._v("mdi-feature-search")])],1)],1)])])])})),0):t("div",{staticClass:"border mt-6 h-full d-flex align-center justify-center py-10"},[e.showOrders?t("span",{staticClass:"body-2 text--lighten-1 grey--text text-uppercase"},[e._v("no tienes ordenes pendientes")]):t(h.a,{staticClass:"my-2",attrs:{color:"grey",indeterminate:"",size:"34"}})],1),e._v(" "),e.perPage<e.searchResults.length&&!e.isSearch?t(f.a,{attrs:{length:Math.ceil(this.searchResults.length/this.perPage),"total-visible":7,color:"secondary","prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}):e._e(),e._v(" "),t("modalAdminOrder")],1)}),[],!1,null,"2791efd6",null);t.default=component.exports}}]);